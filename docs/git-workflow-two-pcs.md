# Разработка на двух компьютерах (Git workflow)

Кратко: один репозиторий на GitHub — источник правды. На каждом ПК вы подключаетесь к нему и работаете по одной схеме.

---

## Первоначальная настройка (один раз на каждом ПК)

### Если на этом ПК репозитория ещё нет (клон с нуля)

1. Откройте папку, где хотите держать проект (например `C:\projects`).
2. Выполните в терминале (PowerShell или cmd):

   ```powershell
   git clone https://github.com/nikita-yakuschenko/pulse.git
   cd pulse
   ```

3. Дальше работайте в папке `pulse`: устанавливайте зависимости, настраивайте `.env` и т.д.

### Если на этом ПК уже есть папка проекта, но нет связи с GitHub

1. Откройте папку проекта в терминале.
2. Добавьте удалённый репозиторий:

   ```powershell
   git remote add origin https://github.com/nikita-yakuschenko/pulse.git
   ```

3. Подтяните код с GitHub (ветка на GitHub — `main`):

   ```powershell
   git fetch origin
   git pull origin main --allow-unrelated-histories
   ```

   Если Git выдаст ошибку про неотслеживаемые файлы, которые будут перезаписаны, и вы готовы заменить их версией с GitHub:

   ```powershell
   git clean -fd
   git reset --hard origin/main
   ```

4. Настройте отслеживание ветки (если локальная ветка называется `master`):

   ```powershell
   git branch --set-upstream-to=origin/main master
   ```

После этого на этом ПК достаточно использовать шаги из раздела «Ежедневный цикл».

---

## Ежедневный цикл (на любом ПК)

### В начале работы (когда садитесь за компьютер)

Подтянуть последние изменения с GitHub (в том числе с другого ПК):

```powershell
cd C:\pulse
git pull
```

Если попросит указать ветку: `git pull origin main`.

### В процессе работы

Делайте коммиты по желанию (часто — удобнее откатываться):

```powershell
git add .
git status
git commit -m "Краткое описание изменений"
```

### В конце работы (перед уходом или деплоем)

Обязательно отправьте изменения на GitHub, чтобы они были доступны на другом ПК:

```powershell
git add .
git status
git commit -m "Описание сделанного"
git push
```

Если ветка ещё не связана с удалённой: `git push -u origin main` (или `master`, смотря какая ветка у вас локально).

---

## Краткая шпаргалка

| Момент | Действие |
|--------|----------|
| Сели за ПК | `git pull` |
| Закончили задачу / уходите | `git add .` → `git commit -m "..."` → `git push` |

Правило: **перед работой — pull, после работы — push.** Тогда на обоих компьютерах будет актуальная версия.

---

## Возможные ситуации

### Забыли сделать push на другом ПК

На текущем ПК после `git pull` новых коммитов нет. Решение: на том ПК, где работали, выполнить `git push`, затем на этом ПК снова `git pull`.

### Конфликт при pull (изменили один и тот же файл на двух ПК)

Git покажет конфликт в файле. Нужно:

1. Открыть файл, найти маркеры `<<<<<<<`, `=======`, `>>>>>>>`.
2. Оставить нужный вариант кода (или объединить оба), удалить маркеры.
3. Выполнить:

   ```powershell
   git add .
   git commit -m "Разрешение конфликта"
   git push
   ```

### Разные имена веток (master на одном ПК, main на другом)

На GitHub ветка называется **main**. Если у вас локально **master** и вы хотите везде использовать **main**:

```powershell
git branch -m master main
git branch --set-upstream-to=origin/main main
```

Дальше везде работайте с веткой `main`: `git pull`, `git push`.

---

## Ссылки

- Репозиторий: [nikita-yakuschenko/pulse](https://github.com/nikita-yakuschenko/pulse)
- URL для clone/pull: `https://github.com/nikita-yakuschenko/pulse.git`
