/**
 * Типы данных из 1С API
 */

/**
 * Элемент вложения из ХранилищеДополнительнойИнформации (ДопИнформация в заказе)
 */
export interface SupplierOrderAttachment {
  СсылкаХранилища?: string
  Объект?: string
  Представление?: string
  /** Имя файла для отображения и скачивания */
  ИмяФайла?: string
  ТекстФайла?: string
  ПорядокВидДанных?: number
  СсылкаВидДанных?: string
  /** Есть ли двоичное вложение (файл) */
  ЕстьВложение?: boolean
  /** UUID записи хранилища — используется для запроса файла: GET .../file/{id} */
  ИдентификаторХранилища?: string
  /** Только при full=1: содержимое в Base64 */
  ФайлBase64?: string
}

/**
 * Заказ поставщику из 1С
 */
export interface SupplierOrder {
  /** Дата и время создания (09.06.2023 10:59:09) */
  Дата: string
  /** Номер документа (АСК00000001) */
  Номер: string
  /** Название поставщика */
  Контрагент: string
  /** Наша организация */
  Организация: string
  /** Ответственный менеджер */
  Ответственный: string
  /** Сумма заказа */
  Сумма: number
  /** Вложения (файлы) из хранилища дополнительной информации */
  ДопИнформация?: SupplierOrderAttachment[]
}

/**
 * Ответ API со списком заказов поставщикам
 */
export interface SupplierOrdersResponse {
  data: SupplierOrder[]
}

/**
 * Платеж (оплата) из 1С
 */
export interface Payment {
  /** Дата в формате "DD.MM.YYYY HH:MM:SS" (09.06.2023 10:59:09) */
  Дата: string
  /** Номер документа (АС000000001, ИПК00000001) */
  Номер: string
  /** Сумма оплаты */
  Сумма: number
  /** Вид операции (например, "оплата поставщику") */
  ВидОперации: string
  /** Счет для оплаты */
  Счёт: string
  /** Контрагент (поставщик) */
  Контрагент: string
  /** Наша организация */
  Организация: string
  /** Статус платежа (Отклонен, Подготовлен, Оплачен, Согласован, Утвержден, Срочно, Отложен) */
  Статус: string
  /** Ответственный менеджер */
  Ответственный: string
  /** Вложения (файлы) из хранилища дополнительной информации */
  ДопИнформация?: SupplierOrderAttachment[]
}

/**
 * Строка расшифровки платежа (табличная часть)
 */
export interface PaymentLineItem {
  НомерСтроки?: string
  Документ: string
  Сумма: number
  СуммаВзаиморасчетов?: number
  Назначение?: string
}

/**
 * Расширенный тип для полного ответа по заявке на оплату (full=1)
 */
export interface PaymentDetails extends Payment {
  /** Табличная часть "Расшифровка платежа" */
  РасшифровкаПлатежа?: PaymentLineItem[]
  /** Комментарий к заявке */
  Комментарий?: string
}

/**
 * Ответ API со списком платежей
 */
export interface PaymentsResponse {
  data: Payment[]
}

/**
 * Складской остаток из 1С
 */
export interface WarehouseBalance {
  /** Код номенклатуры */
  Код?: string
  /** Наименование номенклатуры */
  Номенклатура: string
  /** Наименование склада */
  Склад: string
  /** Количество */
  Количество: number
  /** Единица измерения */
  ЕдиницаИзмерения?: string
  /** Организация (если применимо) */
  Организация?: string
}

/**
 * Ответ API со списком складских остатков
 */
export interface WarehouseBalancesResponse {
  data: WarehouseBalance[]
}

/** Остаток по складу (в узле дерева balances) */
export interface WarehouseBalanceEntry {
  Склад: string
  Количество: number
}

/**
 * Узел дерева номенклатуры (материалов) из 1С materials/get/list или balances/get/list.
 * Группа: ЭтоГруппа true, Дети — массив дочерних узлов.
 * Элемент (материал): ЭтоГруппа false, поля единицы/вид/номенклатурная группа.
 * Для balances: у материалов также есть Остатки — разбивка по складам.
 */
export interface MaterialTreeNode {
  Код: string
  Наименование: string
  ЭтоГруппа: boolean
  /** Только у элементов (листьев) */
  ЕдиницаИзмерения?: string
  ВидНоменклатуры?: string
  НоменклатурнаяГруппа?: string
  /** Только у групп; дочерние узлы (группы или материалы) */
  Дети?: MaterialTreeNode[]
  /** Только у материалов в balances: остатки по складам */
  Остатки?: WarehouseBalanceEntry[]
}